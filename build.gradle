buildscript {
  ext {
    kotlinVersion = '1.1.3'
    springBootVersion = '1.5.4.RELEASE'
    dbfluteVersion = '1.1.3'
  }
  repositories {
    mavenCentral()
  }
  dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}"
    classpath "org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}"
  }
}

subprojects {
  apply plugin: "java"
  apply plugin: "kotlin"
  apply plugin: "org.springframework.boot"
  apply plugin: "eclipse"
  apply plugin: "idea"

  sourceCompatibility = 1.8
  targetCompatibility = 1.8

  repositories {
    mavenCentral()
  }

  sourceSets {
    main {
      resources {
        srcDirs "src/main/resources"
        if (project.hasProperty('profile')) {
          def additionalDir = "src/main/config/$profile"
          println "追加リソースセット(Additional resourcesSets) : $additionalDir"
          srcDirs "$additionalDir"
        }
      }
    }
  }
}
